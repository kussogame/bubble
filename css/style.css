/* ============================
   HUD 安全オーバーライド（レイアウトを壊さない）
   ============================ */

/* ▼ ステージは触らない（position は元のまま）
   .stage の position: relative; も不要・未指定に戻す */

/* --- Retry を右端へ。絶対配置でも通常フローでも効くように両対応 --- */
#btnRetry {
  right: calc(env(safe-area-inset-right, 0px) + 8px) !important; /* 絶対/固定配置のとき */
  left: auto !important;
  transform: none !important;
  margin-right: calc(env(safe-area-inset-right, 0px) + 8px) !important; /* 通常フローやflex時 */
  box-sizing: border-box;
}

/* --- Pause は Retry の左に寄せる（幅に応じて 64〜88px 程度で微調整可） --- */
#btnPause {
  right: auto !important;           /* 絶対配置だった場合の left/right の競合を避ける */
  transform: none !important;
  margin-right: 8px !important;     /* 通常フローやflex時 */
}

/* --- BGM パネルは一切位置変更しない（前回の absolute 指定を打ち消す） --- */
#bgmPanel, .bgm-panel {
  position: initial !important;     /* もともと static/relative なら初期化 */
  left: auto !important;
  right: auto !important;
  top: auto !important;
  transform: none !important;
}

/* --- BGM スライダーの幅を 65% に縮める --- */
#bgmVol {
  width: 65% !important;   /* 指定の65% */
}

/* 値表示の見切れ防止（任意） */
#bgmVolVal {
  white-space: nowrap;
  margin-left: 6px;
  font-size: 0.95em;
}

/* 右端の余白を少し詰めたい超狭幅端末用（任意） */
@media (max-width: 360px) {
  #btnRetry { 
    right: calc(env(safe-area-inset-right, 0px) + 6px) !important;
    margin-right: calc(env(safe-area-inset-right, 0px) + 6px) !important;
  }
}
