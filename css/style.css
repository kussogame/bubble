/* ============================
   Safe override for top-right buttons
   右端はみ出し対策（ノッチ端末でもOK）
   ============================ */

/* ステージ基準で位置決め（画面全体基準になるのを防ぐ）*/
.stage { position: relative; }

/* ---- Retry（右端に確実固定） ---- */
#btnRetry{
  position: absolute;
  top: 8px;
  right: calc(env(safe-area-inset-right, 0px) + 8px);
  left: auto !important;
  transform: none !important;
  box-sizing: border-box;
  max-width: calc(100% - 16px);
}

/* ---- Pause（Retryの左に並べる：幅に応じて数値を調整） ---- */
#btnPause{
  position: absolute;
  top: 8px;
  right: calc(env(safe-area-inset-right, 0px) + 8px + 72px); /* Retryの分だけ左へ */
  left: auto !important;
  transform: none !important;
  box-sizing: border-box;
}

/* ---- BGMパネル ---- */
#bgmPanel, .bgm-panel{
  position: absolute;
  top: 8px;
  left: 8px;
  right: auto !important;
  transform: none !important;
  box-sizing: border-box;
  display: flex;
  align-items: center;
  gap: 4px;
}

/* ===== BGM 音量バーの幅を 65% に制限 ===== */
#bgmVol {
  width: 65% !important;    /* 全体幅の65% */
  max-width: 200px;         /* 保険: 大画面で広すぎないように */
  min-width: 80px;          /* 保険: 狭すぎる場合 */
}

/* ラベルの見た目をそろえる（任意） */
#bgmVolVal {
  white-space: nowrap;
  font-size: 0.9em;
  margin-left: 4px;
}

/* スマホ向け調整 */
@media (max-width: 360px){
  #btnRetry{ right: calc(env(safe-area-inset-right, 0px) + 6px); top: 6px; }
  #btnPause{ right: calc(env(safe-area-inset-right, 0px) + 6px + 64px); top: 6px; }
  #bgmVol { width: 60% !important; }
}
